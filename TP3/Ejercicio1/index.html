<!DOCTYPE html>

<head>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
  />
  <script src="https://unpkg.com/just-validate@latest/dist/just-validate.production.min.js"></script>
</head>

<body>
  <div class="container mt-4">
    <form
      method="post"
      action="archivo.php"
      id="form"
      autocomplete="off"
      enctype="multipart/form-data"
    >
      <div class="mb-3">
        <label for="formFile" class="form-label">Suba un archivo</label>
        <input class="form-control" type="file" id="formFile" name="formFile" />
        <button class="btn btn-primary mt-3" type="submit">Enviar</button>
      </div>
    </form>
  </div>
  <form action="../../index.html" >
    <input class="btn btn-primary" type="submit" value="Inicio" />
  </form>

  <script>
    const validation = new window.JustValidate('#form', {
      errorFieldCssClass: 'is-invalid',
    });

    validation
      .addField('#formFile', [
        {
          rule: 'required',
          errorMessage: 'Debe subir un archivo',
        },
        {
          rule: 'files',
          value: {
            files: {
              extensions: ['doc', 'pdf'],
              maxSize: 1000000,
            },
          },
          errorMessage: 'Debe subir un .pdf o un .doc menor a 2MB',
        },
      ])
      .onSuccess((event) => {
        const form = document.getElementById('form');
        form.submit();
      });
  </script>
</body>
